<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Map species occurrences — occmap â€¢ rSDM</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rSDM</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Pakillo/rSDM">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Map species occurrences</h1>
    </div>

    
    <p>Plot map of species occurrences (or any set of georeferenced points) on top of different background layers.</p>
    

    <pre class="usage"><span class='fu'>occmap</span>(<span class='no'>locs</span>, <span class='kw'>ras</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>bg</span> <span class='kw'>=</span> <span class='st'>"google"</span>, <span class='kw'>proj</span> <span class='kw'>=</span> <span class='st'>"+init=epsg:4326"</span>,
  <span class='kw'>pcol</span> <span class='kw'>=</span> <span class='st'>"red"</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>psize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>leaflet.base</span>,
  <span class='kw'>mapmisc_server</span> <span class='kw'>=</span> <span class='st'>"maptoolkit"</span>, <span class='kw'>filename</span> <span class='kw'>=</span> <span class='st'>"occmap.kmz"</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>locs</th>
      <td><p>A matrix, dataframe, SpatialPoints or SpatialPointsDataFrame containing coordinates of species occurrences. If locs is a matrix or dataframe, it will be converted to a spatial object using <code><a href='locs2sp.html'>locs2sp</a></code>.</p></td>
    </tr>
    <tr>
      <th>ras</th>
      <td><p>Raster* object to be used as background for points. Default is NULL, in which case a background map defined by <code>bg</code> will be used.</p></td>
    </tr>
    <tr>
      <th>bg</th>
      <td><p>Type of background map. Either
'google' for Google maps background (using <code><a href='http://www.rdocumentation.org/packages/dismo/topics/gmap'>gmap</a></code>) (default),
'coast' for coastlines (using <code>coastsCoarse</code> from <span class="pkg">rworldmap</span> package),
'ggmap' for any of the maps provided by <code><a href='http://www.rdocumentation.org/packages/ggmap/topics/get_map'>get_map</a></code> in <span class="pkg">ggmap</span> package,
'leaflet' for an interactive HTML map using <span class="pkg">leaflet</span>,
'mapmisc' for using any of the layers available in <span class="pkg">mapmisc</span> package, or
'kml' for producing a KMZ file to be opened with Google Earth.</p></td>
    </tr>
    <tr>
      <th>proj</th>
      <td><p>Character string specifying the projection of coordinates data (see <code><a href='http://www.rdocumentation.org/packages/sp/topics/is.projected'>proj4string</a></code> or <a href='http://spatialreference.org'>http://spatialreference.org</a>). Default is geographic (unprojected) coordinates, datum WGS84. Not used if locs is already an Spatial object with defined projection.</p></td>
    </tr>
    <tr>
      <th>pcol</th>
      <td><p>Colour to be used for points. Default is "red".</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>Colour transparency for points, between 0 (fully transparent) and 1 (fully opaque).</p></td>
    </tr>
    <tr>
      <th>psize</th>
      <td><p>Point size. Default is 1 (cex = 1).</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>Logical. Add these occurrences to a previous map? (e.g. for a new species). Default is FALSE. Note this feature doesn't work for all map types. For leaflet maps, when add = TRUE, a leaflet basemap (e.g. as produced by a previous call to occmap) must be provided (see <code>leaflet.base</code>).</p></td>
    </tr>
    <tr>
      <th>leaflet.base</th>
      <td><p>Leaflet map to be used as basemap to add further points when add is TRUE.</p></td>
    </tr>
    <tr>
      <th>mapmisc_server</th>
      <td><p>character. Server/type of background map to be used when bg = "mapmisc". Run <code><a href='http://www.rdocumentation.org/packages/mapmisc/topics/openmap'>osmTiles</a></code> to see all the available layers.</p></td>
    </tr>
    <tr>
      <th>filename</th>
      <td><p>Character. Path and filename of the KMZ file produced when bg = "kml".</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional parameters to be passed to
dismo::gmap if bg == 'google'
plot if bg == 'coast'
ggmap::get_map if bg == 'ggmap'
leafletR::leaflet if bg == 'leaflet'
raster::plot or raster::plotRGB if bg == 'mapmisc'
See these functions help files for details.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A map (plot), unless <code>bg = 'KML'</code> in which case a kmz file is saved to be explored with Google Earth. In some cases, a raster layer, leaflet object, or ggplot object is returned in addition to the map.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If using ggmap and stamen maps, large regions seem to give problems.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Using acaule dataset from dismo package:</span>
<span class='fu'>library</span>(<span class='no'>dismo</span>)</div><div class='output co'>#&gt; <span class='message'>Loading required package: raster</span></div><div class='output co'>#&gt; <span class='message'>Loading required package: sp</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘dismo’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:rSDM’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    geocode</span></div><div class='input'><span class='fu'>data</span>(<span class='no'>acaule</span>)
<span class='fu'>occmap</span>(<span class='kw'>locs</span><span class='kw'>=</span><span class='no'>acaule</span>)</div><div class='output co'>#&gt; <span class='message'>Assuming 'lat' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'lon' is longitude</span></div><div class='img'><img src='occmap-1.png' alt='' width='700' height='432.632880098887' /></div><div class='input'><span class='fu'>occmap</span>(<span class='kw'>locs</span><span class='kw'>=</span><span class='no'>acaule</span>, <span class='kw'>bg</span><span class='kw'>=</span><span class='st'>"google"</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"satellite"</span>)   <span class='co'># using options from dismo:gmap</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'lat' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'lon' is longitude</span></div><div class='img'><img src='occmap-2.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>

<span class='co'># Watercolor map from Stamen using ggmap</span>
<span class='co'># NB: use small regions, otherwise give error to download map tiles</span>
<span class='no'>locs_redux</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>acaule</span>, <span class='no'>lon</span><span class='kw'>&gt;</span>-<span class='fl'>80</span> <span class='kw'>&amp;</span> <span class='no'>lon</span><span class='kw'>&lt;</span> -<span class='fl'>60</span> <span class='kw'>&amp;</span> <span class='no'>lat</span><span class='kw'>&gt;</span>-<span class='fl'>30</span> <span class='kw'>&amp;</span> <span class='no'>lat</span><span class='kw'>&lt;</span> -<span class='fl'>10</span>)
<span class='fu'>occmap</span>(<span class='kw'>locs</span><span class='kw'>=</span><span class='no'>locs_redux</span>,
           <span class='kw'>bg</span><span class='kw'>=</span><span class='st'>"ggmap"</span>, <span class='kw'>maptype</span><span class='kw'>=</span><span class='st'>'watercolor'</span>, <span class='kw'>source</span><span class='kw'>=</span><span class='st'>'stamen'</span>,
           <span class='kw'>pcol</span><span class='kw'>=</span><span class='st'>"darkgreen"</span>, <span class='kw'>psize</span><span class='kw'>=</span><span class='fl'>4</span>)</div><div class='output co'>#&gt; <span class='message'>Assuming 'lat' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'lon' is longitude</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/18/33.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/19/33.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/20/33.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/18/34.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/19/34.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/20/34.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/18/35.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/19/35.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/20/35.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/18/36.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/19/36.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/20/36.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/18/37.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/19/37.jpg</span></div><div class='output co'>#&gt; <span class='message'>Map from URL : http://tile.stamen.com/watercolor/6/20/37.jpg</span></div><div class='img'><img src='occmap-3.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>

<span class='co'># Plot occurrences in a specific country:</span>
<span class='fu'>occmap</span>(<span class='kw'>locs</span><span class='kw'>=</span><span class='fu'>subset</span>(<span class='no'>acaule</span>, <span class='no'>country</span><span class='kw'>==</span><span class='st'>"Bolivia"</span>))</div><div class='output co'>#&gt; <span class='message'>Assuming 'lat' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'lon' is longitude</span></div><div class='img'><img src='occmap-4.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
<span class='co'># Plot occurrences within given coordinates</span>
<span class='fu'>occmap</span>(<span class='kw'>locs</span><span class='kw'>=</span><span class='fu'>subset</span>(<span class='no'>acaule</span>, <span class='no'>lon</span><span class='kw'>&gt;</span>-<span class='fl'>80</span> <span class='kw'>&amp;</span> <span class='no'>lon</span><span class='kw'>&lt;</span> -<span class='fl'>60</span> <span class='kw'>&amp;</span> <span class='no'>lat</span><span class='kw'>&gt;</span>-<span class='fl'>30</span> <span class='kw'>&amp;</span> <span class='no'>lat</span><span class='kw'>&lt;</span> -<span class='fl'>10</span>))</div><div class='output co'>#&gt; <span class='message'>Assuming 'lat' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'lon' is longitude</span></div><div class='img'><img src='occmap-5.png' alt='' width='700' height='432.632880098887' /></div><div class='input'><span class='co'># can use click() aftewards to identify specific points</span>


<span class='co'># Add transparency to points</span>
<span class='fu'>occmap</span>(<span class='kw'>locs</span><span class='kw'>=</span><span class='no'>acaule</span>, <span class='kw'>pcol</span><span class='kw'>=</span><span class='st'>"red"</span>, <span class='kw'>alpha</span><span class='kw'>=</span><span class='fl'>0.7</span>)</div><div class='output co'>#&gt; <span class='message'>Assuming 'lat' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'lon' is longitude</span></div><div class='img'><img src='occmap-6.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
<span class='co'># Save plot directly to file</span>
<span class='fu'>pdf</span>(<span class='st'>"map.pdf"</span>, <span class='kw'>paper</span><span class='kw'>=</span><span class='st'>"a4r"</span>)
<span class='fu'>occmap</span>(<span class='kw'>locs</span><span class='kw'>=</span><span class='no'>acaule</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"satellite"</span>, <span class='kw'>scale</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>Assuming 'lat' is latitude</span></div><div class='output co'>#&gt; <span class='message'>Assuming 'lon' is longitude</span></div><div class='input'><span class='fu'>dev.off</span>()</div><div class='output co'>#&gt; RStudioGD 
#&gt;         2 </div><div class='input'>
<span class='co'>## Providing spatial objects ##</span>
<span class='fu'>data</span>(<span class='no'>meuse</span>)
<span class='fu'>coordinates</span>(<span class='no'>meuse</span>) <span class='kw'>&lt;-</span> ~<span class='no'>x</span>+<span class='no'>y</span>
<span class='fu'>proj4string</span>(<span class='no'>meuse</span>) <span class='kw'>&lt;-</span> <span class='fu'>CRS</span>(<span class='st'>"+init=epsg:28992"</span>)
<span class='fu'>occmap</span>(<span class='no'>meuse</span>)</div><div class='img'><img src='occmap-7.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
<span class='co'>#alternatively, provide projection argument:</span>
<span class='fu'>data</span>(<span class='no'>meuse</span>)
<span class='fu'>coordinates</span>(<span class='no'>meuse</span>) <span class='kw'>&lt;-</span> ~<span class='no'>x</span>+<span class='no'>y</span></div><div class='output co'>#&gt; <span class='error'>Error in `coordinates&lt;-`(`*tmp*`, value = ~x + y): setting coordinates cannot be done on Spatial objects, where they have already been set</span></div><div class='input'><span class='fu'>occmap</span>(<span class='no'>meuse</span>, <span class='kw'>proj</span> <span class='kw'>=</span> <span class='st'>"+init=epsg:28992"</span>)</div><div class='img'><img src='occmap-8.png' alt='' width='700' height='432.632880098887' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Francisco Rodriguez-Sanchez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
